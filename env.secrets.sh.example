#!/bin/bash
# Source this file before running docker-compose to load secret stream IDs
# Usage: source .env.secrets.sh && docker-compose -f docker-compose.stable.yml up -d
#
# IMPORTANT: Copy this file to .env.secrets.sh and replace the example values
# with your actual stream credentials. The .env.secrets.sh file is gitignored
# and will not be committed to version control.
#
# Copy command:
#   cp env.secrets.sh.example .env.secrets.sh
#
# Then edit .env.secrets.sh with your actual Kaltura stream IDs or other
# ingest URLs that contain special characters like # that cannot be used
# in standard .env files.

# Standard streaming instance ingest endpoints
# Replace with your actual Kaltura stream IDs or other ingest URLs
export STANDARD_1_INGEST='srt://example.p.srt.publish.live.kaltura.com:7045?streamid=#:::e=1_example1,st=0,p=password1'
export STANDARD_2_INGEST='srt://example.p.srt.publish.live.kaltura.com:7045?streamid=#:::e=1_example2,st=0,p=password2'
export STANDARD_3_INGEST='srt://example.p.srt.publish.live.kaltura.com:7045?streamid=#:::e=1_example3,st=0,p=password3'
export STANDARD_4_INGEST='srt://example.p.srt.publish.live.kaltura.com:7045?streamid=#:::e=1_example4,st=0,p=password4'

# Compositor output endpoint
# Where the composed (side-by-side) stream should be sent
export COMPOSITOR_INGEST='srt://example.p.srt.publish.live.kaltura.com:7045?streamid=#:::e=1_composite,st=0,p=password5'

# Optional: Override default refresh interval (seconds)
# export DEFAULT_REFRESH_INTERVAL=3600

# Note: For local testing without external ingest, you can use the built-in
# srt-test-listener service instead:
# export STANDARD_1_INGEST='srt://srt-test-listener:9001?streamid=std1'
